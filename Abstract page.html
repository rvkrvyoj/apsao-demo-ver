<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>홈페이지 예시</title>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .banner {
            position: relative;
            width: 100%;
            height: 300px; /* 원하는 고정 높이 */
            background-size: cover;
            background-position: center;
        }

        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        #abstractTabsContent {
        min-height: 600px; /* 원하는 고정 높이 */
        }

        /* 모든 nav-link 기본 글자색 흰색 */
        .navbar .nav-link {
            color: white !important;
        }
        /* hover, focus, active 상태에서도 흰색 유지 */
        .navbar .nav-link:hover,
        .navbar .nav-link:focus,
        .navbar .nav-link.active {
            color: white !important;
            background-color: transparent !important;
        }
    
        /* 드롭다운 메뉴 */
        .navbar .dropdown-menu {
            background-color: rgba(0,0,0,0.8);
        }
        .navbar .dropdown-item {
            color: white !important;
        }
        .navbar .dropdown-item:hover {
            background-color: rgba(255,255,255,0.1);
        }
    </style>

</head>

<body class="p-3 m-0 border-0 bd-example m-0 border-0">
    <nav class="navbar navbar-expand-lg navbar-dark bg-transparent position-absolute w-100">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://www.apsao.org/assets/img-apsao/APSAOlogocroppedsm.png" alt="APSAO" width="30" height="24">
            </a>
        <ul class="nav nav-pills ms-auto">
            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Annual conference</a>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="#">2025 APSAO in Gwangju</a></li>
                <li><a class="dropdown-item" href="#">Location</a></li>
                <li><a class="dropdown-item" href="https://sites.google.com/view/apsao-kor/hotel?authuser=0">Hotel</a></li>
                <li><a class="dropdown-item" href="#">Tour</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="https://example.com">APSAO</a></li>
            </ul>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="https://sites.google.com/view/apsao-kor/program?authuser=0">Program</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="https://sites.google.com/view/apsao-kor/registration?authuser=0">Registration</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="#">Abstract</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="#">Community</a>
            </li>
            </nav>
        </ul>
        </div>
    </nav>
    <div class="container-fluid p-0">
        <img src="banner1.png" alt="Header Image" class="img-fluid w-100" style="max-height: 300px; object-fit: cover;">
    </div>

        <!-- 진행 상황 바 -->
    <div class="container mt-3" style="max-width: 900px;">
        <div class="progress" role="progressbar" aria-label="Form completion progress"
            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div id="progressBar" class="progress-bar" style="width: 0%">0%</div>
        </div>
    </div>
    
    <div class="container mt-3" style="max-width: 900px;">
        <ul class="nav nav-tabs" id="abstractTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="new-abstract-tab" data-bs-toggle="tab" data-bs-target="#new-abstract" type="button" role="tab">New Abstract Submission</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="edit-abstract-tab" data-bs-toggle="tab" data-bs-target="#edit-abstract" type="button" role="tab">Edit Abstract</button>
            </li>
        </ul>
    
        <!-- 탭 콘텐츠 -->
        <div class="tab-content mt-4" id="abstractTabsContent">
    
            <!-- 새 Abstract 제출 -->
            <div class="tab-pane fade show active" id="new-abstract" role="tabpanel" aria-labelledby="new-abstract-tab">
                <hr class="my-4" style="border: 2px solid rgba(0,0,0,0.5);">
                <form id="newAbstractForm" class="row g-3 needs-validation" novalidate>
                    <!-- First Name -->
                    <div class="col-md-4">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" placeholder="First Name" required>
                    </div>
    
                    <!-- Last Name -->
                    <div class="col-md-4">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" placeholder="Last Name" required>
                    </div>
    
                    <!-- Username -->
                    <div class="col-md-4">
                        <label for="username" class="form-label">Username</label>
                        <div class="input-group has-validation">
                            <span class="input-group-text">@</span>
                            <input type="text" class="form-control" id="username" placeholder="username" required>
                        </div>
                    </div>
    
                    <!-- Affiliation -->
                    <div class="col-md-6">
                        <label for="affiliation" class="form-label">Affiliation</label>
                        <input type="text" class="form-control" id="affiliation" placeholder="Enter your institution / organization" required>
                    </div>
    
                    <!-- State -->
                    <div class="col-md-3">
                        <label for="state" class="form-label">State</label>
                        <input type="text" class="form-control" id="state" placeholder="Enter your state / province" required>
                    </div>  
    
                    <!-- Position -->
                    <div class="col-md-3">
                        <label for="position" class="form-label">Position</label>
                        <select class="form-select" id="position" required>
                            <option value="">Choose</option>
                            <option>Undergraduate</option>
                            <option>Master's Student</option>
                            <option>Doctoral Student</option>
                            <option>Postdoctoral Researcher (PhD)</option>
                            <option>Researcher</option>
                            <option>Master's Degree Holder</option>
                            <option>Doctorate Degree Holder</option>
                            <option>Associate Professor</option>
                            <option>Assistant Professor</option>
                        </select>
                    </div>
    
                    <!-- Abstract -->
                    <div class="col-12">
                        <label for="abstract" class="form-label">Abstract (max 500 characters)</label>
                        <textarea class="form-control" id="abstract" placeholder="Enter your abstract here..." maxlength="500" rows="5" required></textarea>
                        <small id="charCount" class="text-muted">0 / 500</small>
                    </div>
    
                    <!-- PDF Upload -->
                    <div class="col-12">
                        <label for="pdfFile" class="form-label">Upload PDF File</label>
                        <input type="file" class="form-control" id="pdfFile" accept="application/pdf" required>
                    </div>
    
                    <!-- Submit Button -->
                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Submit</button>
                    </div>
                </form>
            </div>
    
            <!-- Abstract 수정 -->
            <div class="tab-pane fade" id="edit-abstract" role="tabpanel" aria-labelledby="edit-abstract-tab">
                <!-- 1. 본인 확인 폼 -->
                <form id="verifyForm" class="row g-3 needs-validation" novalidate>
                    <div class="col-md-4">
                        <label for="editFirstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="editFirstName" required>
                    </div>
                    <div class="col-md-4">
                        <label for="editLastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="editLastName" required>
                    </div>
                    <div class="col-md-4">
                        <label for="editUsername" class="form-label">Username</label>
                        <div class="input-group has-validation">
                            <span class="input-group-text">@</span>
                            <input type="text" class="form-control" id="editUsername" required>
                        </div>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Verify</button>
                    </div>
                </form>
    
                <!-- 2. 수정 폼 -->
                <form id="editForm" class="row g-3 mt-4 needs-validation" novalidate style="display:none;">
                    <div class="col-12">
                        <label for="editAbstractText" class="form-label">Edit Abstract (max 500 characters)</label>
                        <textarea class="form-control" id="editAbstractText" maxlength="500" rows="5" required></textarea>
                        <small id="editCharCount" class="text-muted">0 / 500</small>
                    </div>
                    <div class="col-12">
                        <label for="editPdf" class="form-label">Upload New PDF File (optional)</label>
                        <input type="file" class="form-control" id="editPdf" accept="application/pdf">
                    </div>
                    <div class="col-12">
                        <button class="btn btn-success" type="submit">Update Abstract</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <script>
    // 새 Abstract 진행률
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("newAbstractForm");
        const inputs = form.querySelectorAll("input[required], select[required], textarea[required]");
        const progressBar = document.getElementById("progressBar");
    
        function updateProgress() {
            let filled = 0;
            inputs.forEach(input => {
                if (input.type === "file") {
                    if (input.files.length > 0) filled++;
                } else if (input.value.trim() !== "") {
                    filled++;
                }
            });
            const progress = Math.round((filled / inputs.length) * 100);
            progressBar.style.width = progress + "%";
            progressBar.textContent = progress + "%";
            progressBar.parentElement.setAttribute("aria-valuenow", progress);
        }
    
        inputs.forEach(input => {
            input.addEventListener("input", updateProgress);
            input.addEventListener("change", updateProgress);
        });
    });
    </script>